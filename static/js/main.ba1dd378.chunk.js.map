{"version":3,"sources":["components/pages/landing/LandingPage.tsx","recoil/atoms/GameConfig.ts","recoil/effects/LocalStorage.ts","hooks/useLocalStorageRecoilState.ts","recoil/atoms/GameState.ts","components/pages/game-config/GameConfigPage.tsx","components/pages/game/Timer.tsx","components/pages/game/NumberPad.tsx","recoil/selectors/Graph.ts","components/pages/game/Graph.tsx","components/common/NakedButton.tsx","components/common/IconButton.tsx","icons/backspace.svg","recoil/selectors/Health.ts","components/pages/game/History.tsx","recoil/selectors/Progress.ts","components/pages/game/ProgressBar.tsx","icons/stop.svg","icons/pause.svg","components/pages/game/GamePage.tsx","App.tsx","index.tsx"],"names":["StyledDiv","styled","div","LandingPage","to","ProgressMode","localStorageEffect","key","setSelf","onSet","savedValue","JSON","parse","localStorage","getItem","newValue","DefaultValue","removeItem","setItem","stringify","progressModeAtom","atom","default","Sinks","effects_UNSTABLE","progressGoalAtom","putterCountAtom","rollingAverageDepthAtom","graphDepthAtom","targetAtom","useLocalStorageRecoilState","useRecoilState","value","setValue","useState","loadedFromCache","setLoadedFromCache","useEffect","storedValue","useMemo","timeElapsedAtom","historyAtom","GameConfigPage","progressMode","setProgressMode","progressCount","setProgressCount","putterCount","setPutterCount","resetTimeElapsed","useResetRecoilState","resetHistory","name","id","onChange","e","target","Throws","type","parseInt","formatTime","time","secondsElapsed","Math","floor","minutesElapsed","remainderSeconds","formattedSeconds","Timer","timeElapsed","setTimeElapsed","Date","now","lastTickTime","setLastTickTime","timeout","setTimeout","clearTimeout","NumberPad","setHistory","useSetRecoilState","Array","keys","map","i","onClick","history","graphSelector","selector","get","rollingAverageDepth","adjustedAvgDept","ceil","graphData","start","max","localHistory","slice","nominator","denominator","forEach","index","weight","length","push","Graph","data","useRecoilValue","graphDepth","width","window","screen","getXCoord","toFixed","getYCoord","GRAPH_PADDING","targetY","points","getCoord","join","height","x1","y1","x2","y2","stroke","strokeDasharray","strokeWidth","fill","min","cx","cy","r","button","StyledNakedButton","NakedButton","IconButton","title","src","alt","healthSelector","graph","health","props","$health","History","className","BackspaceIcon","oldHistory","progressSelector","reduce","accumulator","currentValue","$progressPercent","ProgressBar","progress","progressGoal","GamePage","StopIcon","PauseIcon","App","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ba1dd378.chunk.js","sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\n\nconst StyledDiv = styled.div``;\n\nexport default function LandingPage() {\n  return (\n    <StyledDiv>\n      <Link to=\"/game-config\">Start</Link>\n    </StyledDiv>\n  );\n}\n","import { atom } from \"recoil\";\nimport { localStorageEffect } from \"../effects/LocalStorage\";\n\nexport enum ProgressMode {\n  Sinks = \"SINKS\",\n  Throws = \"THROWS\",\n}\n\nexport const progressModeAtom = atom<ProgressMode>({\n  key: \"progress-mode\",\n  default: ProgressMode.Sinks,\n  effects_UNSTABLE: [localStorageEffect(\"progress-mode\")],\n});\n\nexport const progressGoalAtom = atom<number>({\n  key: \"progress-goal\",\n  default: 100,\n  effects_UNSTABLE: [localStorageEffect(\"progress-goal\")],\n});\n\nexport const putterCountAtom = atom<number>({\n  key: \"putter-count\",\n  default: 3,\n  effects_UNSTABLE: [localStorageEffect(\"putter-count\")],\n});\n\nexport const rollingAverageDepthAtom = atom<number>({\n  key: \"rolling-average-depth\",\n  default: 30,\n  effects_UNSTABLE: [localStorageEffect(\"rolling-average-depth\")],\n});\n\nexport const graphDepthAtom = atom<number>({\n  key: \"graph-depth\",\n  default: 30,\n  effects_UNSTABLE: [localStorageEffect(\"graph-depth\")],\n});\n\nexport const targetAtom = atom<number>({\n  key: \"target\",\n  default: 0.8,\n  effects_UNSTABLE: [localStorageEffect(\"target\")],\n});\n","import { DefaultValue } from \"recoil\";\n\nexport const localStorageEffect =\n  (key: string) =>\n  ({\n    setSelf,\n    onSet,\n  }: {\n    setSelf: (value: any) => void;\n    onSet: (effect: (newValue: any) => void) => void;\n  }) => {\n    const savedValue = JSON.parse(localStorage.getItem(key) ?? \"null\");\n\n    if (savedValue !== null) {\n      setSelf(savedValue);\n    }\n\n    onSet((newValue: any) => {\n      if (newValue instanceof DefaultValue) {\n        localStorage.removeItem(key);\n      } else {\n        localStorage.setItem(key, JSON.stringify(newValue));\n      }\n    });\n  };\n","import { RecoilState, SetterOrUpdater, useRecoilState } from \"recoil\";\nimport { useEffect, useMemo, useState } from \"react\";\n\nexport default function useLocalStorageRecoilState<T>(\n  atom: RecoilState<T>\n): [T, SetterOrUpdater<T>] {\n  const [value, setValue] = useRecoilState<T>(atom);\n  const [loadedFromCache, setLoadedFromCache] = useState(false);\n\n  useEffect(() => {\n    const storedValue = JSON.parse(localStorage.getItem(atom.key) ?? \"null\");\n    if (storedValue) {\n      setValue(storedValue);\n    }\n    setLoadedFromCache(true);\n  }, [atom.key, setValue]);\n\n  useEffect(() => {\n    if (!loadedFromCache) {\n      return;\n    }\n\n    localStorage.setItem(atom.key, JSON.stringify(value));\n  }, [atom.key, value, loadedFromCache]);\n\n  return useMemo(() => [value, setValue], [value, setValue]);\n}\n","import { atom } from \"recoil\";\nimport { localStorageEffect } from \"../effects/LocalStorage\";\n\nexport const timeElapsedAtom = atom({\n  key: \"time-elapsed\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect(\"time-elapsed\")],\n});\n\nexport const historyAtom = atom<number[]>({\n  key: \"history\",\n  default: [],\n  effects_UNSTABLE: [localStorageEffect(\"history\")],\n});\n","import React, { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport {\n  progressGoalAtom,\n  ProgressMode,\n  progressModeAtom,\n  putterCountAtom,\n} from \"../../../recoil/atoms/GameConfig\";\nimport useLocalStorageRecoilState from \"../../../hooks/useLocalStorageRecoilState\";\nimport { Link } from \"react-router-dom\";\nimport { historyAtom, timeElapsedAtom } from \"../../../recoil/atoms/GameState\";\nimport { useResetRecoilState } from \"recoil\";\n\nconst StyledDiv = styled.div``;\n\nexport default function GameConfigPage() {\n  const [progressMode, setProgressMode] =\n    useLocalStorageRecoilState<ProgressMode>(progressModeAtom);\n\n  const [progressCount, setProgressCount] =\n    useLocalStorageRecoilState<number>(progressGoalAtom);\n\n  const [putterCount, setPutterCount] =\n    useLocalStorageRecoilState<number>(putterCountAtom);\n\n  const resetTimeElapsed = useResetRecoilState(timeElapsedAtom);\n  const resetHistory = useResetRecoilState(historyAtom);\n\n  useEffect(() => {\n    resetTimeElapsed();\n    resetHistory();\n  }, [resetHistory, resetTimeElapsed]);\n\n  return (\n    <StyledDiv>\n      <div>\n        <span>I want to</span>\n        <select\n          name=\"progress-mode\"\n          id=\"progress-mode\"\n          value={progressMode}\n          onChange={(e) => {\n            setProgressMode(e.target.value as ProgressMode);\n          }}\n        >\n          <option value={ProgressMode.Sinks}>sink</option>\n          <option value={ProgressMode.Throws}>throw</option>\n        </select>\n        <input\n          name=\"progress-count\"\n          id=\"progress-count\"\n          type=\"number\"\n          value={progressCount}\n          onChange={(e) => {\n            setProgressCount(parseInt(e.target.value));\n          }}\n        />\n        <span>putts.</span>\n      </div>\n      <div>\n        <span>I have</span>\n        <input\n          name=\"putter-count\"\n          id=\"putter-count\"\n          type=\"number\"\n          value={putterCount}\n          onChange={(e) => {\n            setPutterCount(parseInt(e.target.value));\n          }}\n        />\n        <span>putters.</span>\n      </div>\n      <Link to=\"/game\">Let's putt!</Link>\n    </StyledDiv>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { timeElapsedAtom } from \"../../../recoil/atoms/GameState\";\nimport { useRecoilState } from \"recoil\";\n\nconst StyledDiv = styled.div`\n  font-weight: bold;\n  font-size: 24px;\n`;\n\nfunction formatTime(time: number): string {\n  const secondsElapsed = Math.floor(time / 1000);\n  const minutesElapsed = Math.floor(secondsElapsed / 60);\n  const remainderSeconds = secondsElapsed % 60;\n\n  const formattedSeconds =\n    remainderSeconds < 10 ? `0${remainderSeconds}` : remainderSeconds;\n\n  return `${minutesElapsed}:${formattedSeconds}`;\n}\n\nexport default function Timer() {\n  const [timeElapsed, setTimeElapsed] = useRecoilState(timeElapsedAtom);\n\n  const [lastTickTime, setLastTickTime] = useState(Date.now());\n\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      const now = Date.now();\n      const timeSinceLastTick = now - lastTickTime;\n\n      setTimeElapsed(timeElapsed + timeSinceLastTick);\n      setLastTickTime(now);\n    }, 1000);\n    return () => clearTimeout(timeout);\n  }, [setTimeElapsed, timeElapsed, lastTickTime]);\n\n  return <StyledDiv>{formatTime(timeElapsed)}</StyledDiv>;\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { useRecoilState, useSetRecoilState } from \"recoil\";\nimport { putterCountAtom } from \"../../../recoil/atoms/GameConfig\";\nimport { historyAtom } from \"../../../recoil/atoms/GameState\";\n\nconst StyledDiv = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  padding: 4px;\n  max-height: 50vh;\n  overflow: auto;\n  background: radial-gradient(\n      80% 100% at 50% 50%,\n      rgba(0, 0, 0, 0) 0%,\n      rgba(0, 0, 0, 0.7) 100%\n    ),\n    #381b1b;\n\n  button {\n    font-family: \"Montserrat\", sans-serif;\n    height: 80px;\n    flex: 1;\n    min-width: calc(33.333% - 8px);\n    margin: 4px;\n    font-size: 40px;\n    font-weight: bold;\n    background: radial-gradient(\n        80% 80% at 50% 50%,\n        rgba(255, 255, 255, 0.08) 0%,\n        rgba(0, 0, 0, 0) 100%\n      ),\n      #1e1e21;\n    color: #fcf3e2;\n    border-style: outset;\n    border-width: 8px;\n    text-shadow: 0 0 12px black, 2px 2px 0 #8d847e;\n    border-color: #44444b;\n\n    &:active {\n      border-width: 12px;\n      background: radial-gradient(\n          79.35% 79.35% at 50% 50%,\n          rgba(255, 255, 255, 0.04) 0%,\n          rgba(0, 0, 0, 0) 100%\n        ),\n        #151518;\n    }\n\n    transition: border-width 0.25s cubic-bezier(0.33, 1, 0.68, 1),\n      background 0.25s cubic-bezier(0.33, 1, 0.68, 1);\n  }\n`;\n\nexport default function NumberPad() {\n  const [putterCount] = useRecoilState(putterCountAtom);\n  const setHistory = useSetRecoilState(historyAtom);\n\n  return (\n    <StyledDiv>\n      {[...Array(putterCount + 1).keys()].map((i) => (\n        <button\n          key={i}\n          onClick={() => {\n            setHistory((history) => [...history, i]);\n          }}\n        >\n          {i}\n        </button>\n      ))}\n    </StyledDiv>\n  );\n}\n","import { selector } from \"recoil\";\nimport { historyAtom } from \"../atoms/GameState\";\nimport { putterCountAtom, rollingAverageDepthAtom } from \"../atoms/GameConfig\";\n\nexport const graphSelector = selector({\n  key: \"graph\",\n  get: ({ get }) => {\n    const history = get(historyAtom);\n    const rollingAverageDepth = get(rollingAverageDepthAtom);\n    const putterCount = get(putterCountAtom);\n\n    const adjustedAvgDept = Math.ceil(rollingAverageDepth / putterCount);\n\n    const graphData = [];\n\n    for (let i = 0; i < history.length; i++) {\n      const start = Math.max(0, i - adjustedAvgDept + 1);\n      const localHistory = history.slice(start, i + 1);\n\n      let nominator = 0;\n      let denominator = 0;\n\n      localHistory.forEach((value, index) => {\n        const weight = (index + 1) / (localHistory.length + 1);\n        const percentage = value / putterCount;\n        nominator += percentage * weight;\n        denominator += weight;\n      });\n\n      graphData.push(nominator / denominator);\n    }\n\n    return graphData;\n  },\n});\n","import React, { Fragment } from \"react\";\nimport styled from \"styled-components\";\nimport { useRecoilValue } from \"recoil\";\nimport { graphSelector } from \"../../../recoil/selectors/Graph\";\nimport {\n  graphDepthAtom,\n  putterCountAtom,\n  targetAtom,\n} from \"../../../recoil/atoms/GameConfig\";\nimport { historyAtom } from \"../../../recoil/atoms/GameState\";\n\nconst StyledDiv = styled.div`\n  flex: 1;\n`;\n\nconst GRAPH_PADDING = 4;\n\nexport default function Graph() {\n  const data = useRecoilValue(graphSelector);\n  const target = useRecoilValue(targetAtom);\n  const history = useRecoilValue(historyAtom);\n  const putterCount = useRecoilValue(putterCountAtom);\n  const graphDepth = useRecoilValue(graphDepthAtom);\n\n  const width = window.screen.width;\n  const height = 400;\n\n  function getXCoord(index: number): string {\n    return ((width / graphDepth) * index).toFixed(1);\n  }\n\n  function getYCoord(value: number): string {\n    return (GRAPH_PADDING + height - value * height).toFixed(1);\n  }\n\n  function getCoord(value: number, index: number): string {\n    return `${getXCoord(index)},${getYCoord(value)}`;\n  }\n\n  const targetY = getYCoord(target);\n\n  const points = data\n    .slice(-graphDepth)\n    .map((value, index) => getCoord(value, index))\n    .join(\" \");\n\n  return (\n    <StyledDiv>\n      <svg width={width} height={height + GRAPH_PADDING * 2}>\n        <line\n          x1={0}\n          y1={targetY}\n          x2={width}\n          y2={targetY}\n          stroke=\"gray\"\n          strokeDasharray=\"12 8\"\n          strokeWidth=\"3\"\n        />\n        <polyline points={points} fill=\"none\" stroke=\"black\" strokeWidth=\"3\" />\n        {history.slice(-graphDepth).map((value, index) => (\n          <Fragment key={`trade-dot-${index}`}>\n            <line\n              key={`trace-${index}`}\n              x1={getXCoord(index)}\n              y1={getYCoord(value / putterCount)}\n              x2={getXCoord(index)}\n              y2={getYCoord(\n                data[data.length - Math.min(graphDepth, history.length) + index]\n              )}\n              stroke=\"gray\"\n              strokeDasharray=\"8\"\n            />\n            <circle\n              key={`dot-${index}`}\n              cx={getXCoord(index)}\n              cy={getYCoord(value / putterCount)}\n              fill=\"gray\"\n              r=\"3\"\n            />\n          </Fragment>\n        ))}\n      </svg>\n    </StyledDiv>\n  );\n}\n","import styled from \"styled-components\";\n\nexport default styled.button`\n  background: none;\n  border: none;\n  padding: 0;\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport NakedButton from \"./NakedButton\";\n\nconst StyledNakedButton = styled(NakedButton)`\n  margin-bottom: -4px;\n\n  img {\n    width: 40px;\n    height: 40px;\n  }\n`;\n\ninterface IconButtonProps {\n  title: string;\n  src: string;\n  onClick: () => void;\n}\n\nexport default function IconButton({ title, src, onClick }: IconButtonProps) {\n  return (\n    <StyledNakedButton title={title} onClick={onClick}>\n      <img src={src} alt=\"\" />\n    </StyledNakedButton>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/backspace.2eabbca1.svg\";","import { selector } from \"recoil\";\nimport { graphSelector } from \"./Graph\";\nimport { targetAtom } from \"../atoms/GameConfig\";\n\nconst HEALTH_CHANGE = 0.1;\n\nexport const healthSelector = selector({\n  key: \"health\",\n  get: ({ get }) => {\n    const graph = get(graphSelector);\n    const target = get(targetAtom);\n\n    let health = 0;\n\n    for (let i = 0; i < graph.length; i++) {\n      if (health <= -0.99 || health >= 0.99) {\n        health = 0;\n        continue;\n      }\n\n      if (graph[i] < target) {\n        health -= HEALTH_CHANGE;\n      } else {\n        health += HEALTH_CHANGE;\n      }\n    }\n\n    return health;\n  },\n});\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { historyAtom } from \"../../../recoil/atoms/GameState\";\nimport IconButton from \"../../common/IconButton\";\nimport BackspaceIcon from \"../../../icons/backspace.svg\";\nimport { useRecoilValue, useSetRecoilState } from \"recoil\";\nimport { healthSelector } from \"../../../recoil/selectors/Health\";\n\ninterface StyledDivProps {\n  $health: number;\n}\n\nconst StyledDiv = styled.div<StyledDivProps>`\n  display: flex;\n  justify-content: flex-end;\n  overflow: hidden;\n  padding: 8px 8px 0 8px;\n\n  .health-bar-container {\n    margin-right: 8px;\n    flex: 1;\n    border-radius: 8px;\n    overflow: hidden;\n    display: flex;\n    background-color: lightblue;\n\n    .left-segment {\n      background-color: red;\n      flex: 1;\n      opacity: ${(props) => (props.$health < 0 ? 1 : 0)};\n      transform-origin: right;\n      transform: scaleX(${(props) => -props.$health});\n      transition: transform 0.25s cubic-bezier(0.33, 1, 0.68, 1);\n    }\n\n    .right-segment {\n      background-color: green;\n      flex: 1;\n      opacity: ${(props) => (props.$health > 0 ? 1 : 0)};\n      transform-origin: left;\n      transform: scaleX(${(props) => props.$health});\n      transition: transform 0.25s cubic-bezier(0.33, 1, 0.68, 1);\n    }\n  }\n`;\n\nexport default function History() {\n  const setHistory = useSetRecoilState(historyAtom);\n  const health = useRecoilValue(healthSelector);\n\n  return (\n    <StyledDiv $health={health}>\n      <div className=\"health-bar-container\">\n        <div className=\"left-segment\" />\n        <div className=\"right-segment\" />\n      </div>\n      <IconButton\n        title=\"Delete history entry\"\n        src={BackspaceIcon}\n        onClick={() => {\n          setHistory((oldHistory) =>\n            oldHistory.slice(0, oldHistory.length - 1)\n          );\n        }}\n      />\n    </StyledDiv>\n  );\n}\n","import { selector } from \"recoil\";\nimport {\n  ProgressMode,\n  progressModeAtom,\n  putterCountAtom,\n} from \"../atoms/GameConfig\";\nimport { historyAtom } from \"../atoms/GameState\";\n\nexport const progressSelector = selector({\n  key: \"progress\",\n  get: ({ get }) => {\n    const progressMode = get(progressModeAtom);\n    const history = get(historyAtom);\n    const putterCount = get(putterCountAtom);\n\n    switch (progressMode) {\n      case ProgressMode.Sinks:\n        return history.reduce(\n          (accumulator, currentValue) => accumulator + currentValue,\n          0\n        );\n      case ProgressMode.Throws:\n        return history.length * putterCount;\n    }\n  },\n});\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { useRecoilValue } from \"recoil\";\nimport { progressSelector } from \"../../../recoil/selectors/Progress\";\nimport useLocalStorageRecoilState from \"../../../hooks/useLocalStorageRecoilState\";\nimport { progressGoalAtom } from \"../../../recoil/atoms/GameConfig\";\n\ninterface StyledDivProps {\n  $progressPercent: number;\n}\n\nconst StyledDiv = styled.div<StyledDivProps>`\n  position: relative;\n  overflow: hidden;\n\n  .text {\n    font-size: 24px;\n    margin: 0 0 4px 8px;\n  }\n\n  .bar {\n    z-index: -1;\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    background: lightsalmon;\n    transform-origin: left;\n    transform: scaleX(${(props) => props.$progressPercent});\n    transition: transform 0.5s cubic-bezier(0.33, 1, 0.68, 1);\n  }\n`;\n\nexport default function ProgressBar() {\n  const progress = useRecoilValue(progressSelector);\n  const [progressGoal] = useLocalStorageRecoilState(progressGoalAtom);\n\n  return (\n    <StyledDiv $progressPercent={progress / progressGoal}>\n      <div className=\"bar\" />\n      <div className=\"text\">{`${progress} / ${progressGoal}`}</div>\n    </StyledDiv>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/stop.81431bae.svg\";","export default __webpack_public_path__ + \"static/media/pause.b87cfe89.svg\";","import React from \"react\";\nimport styled from \"styled-components\";\nimport Timer from \"./Timer\";\nimport NumberPad from \"./NumberPad\";\nimport Graph from \"./Graph\";\nimport History from \"./History\";\nimport ProgressBar from \"./ProgressBar\";\nimport IconButton from \"../../common/IconButton\";\nimport StopIcon from \"../../../icons/stop.svg\";\nimport PauseIcon from \"../../../icons/pause.svg\";\n\nconst StyledDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  background-color: #e3d0bc;\n\n  .header {\n    display: flex;\n    align-items: center;\n  }\n`;\n\nexport default function GamePage() {\n  return (\n    <StyledDiv>\n      <ProgressBar />\n      <div className=\"header\">\n        <IconButton title=\"Stop game\" src={StopIcon} onClick={() => {}} />\n        <IconButton title=\"Pause game\" src={PauseIcon} onClick={() => {}} />\n        <Timer />\n      </div>\n      <Graph />\n      <History />\n      <NumberPad />\n    </StyledDiv>\n  );\n}\n","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport LandingPage from \"./components/pages/landing/LandingPage\";\nimport GameConfigPage from \"./components/pages/game-config/GameConfigPage\";\nimport GamePage from \"./components/pages/game/GamePage\";\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/game-config\">\n          <GameConfigPage />\n        </Route>\n        <Route path=\"/game\">\n          <GamePage />\n        </Route>\n        <Route path=\"/\">\n          <LandingPage />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { RecoilRoot } from \"recoil\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <RecoilRoot>\n      <App />\n    </RecoilRoot>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}